"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[621],{4873:function(e,t,a){var s=a(1076);t.Z=new class{async getAll(){return await s.Z.get("https://backend.umom.pro/categories/get/all")}async createOrg(e){return await s.Z.put("https://backend.umom.pro/categories/create",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})}}},4241:function(e,t,a){var s=a(1076);t.Z=new class{async getById(e){return await s.Z.post("https://backend.umom.pro/dishes/get/by/category",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})}async getByDishId(e){return await s.Z.post("https://backend.umom.pro/dishes/get/by/id",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})}async getAll(){return await s.Z.get("https://backend.umom.pro/dishes/get/all")}async createDish(e){return await s.Z.put("https://backend.umom.pro/dishes/create",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})}async deleteDish(e){return await s.Z.delete("https://backend.umom.pro/dishes/delete",{headers:{"Content-Type":"application/json"},data:JSON.stringify(e)})}async editDish(e){return await s.Z.patch("https://backend.umom.pro/dishes/update",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})}}},9438:function(e,t,a){a.d(t,{Z:function(){return h}});var s=a(3396);const r={class:"list"},i={class:"img__wrapper"},n=["src"],o=["onClick"];function d(e,t,a,d,p,l){const u=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link"),h=(0,s.up)("DataTable");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(h,{headers:a.headers,items:a.items,"border-cell":"","sort-by":e.sortBy,"sort-type":e.sortType,onClickRow:l.show},{"item-photo":(0,s.w5)((({photo_id:t})=>[(0,s._)("div",i,[(0,s._)("img",{src:e.src+t},null,8,n)])])),"item-del":(0,s.w5)((({id:e})=>[(0,s.Wm)(c,{to:{name:"editDish",params:{id:e}}},{default:(0,s.w5)((()=>[(0,s._)("button",null,[(0,s.Wm)(u,{icon:["fas","pen-to-square"]})])])),_:2},1032,["to"]),(0,s._)("button",{onClick:t=>l.del(e)},[(0,s.Wm)(u,{icon:["fas","trash"]})],8,o)])),_:1},8,["headers","items","sort-by","sort-type","onClickRow"])])}a(560);var p=a(4241),l={data:()=>({src:"https://backend.umom.pro/photos/download?id=",sortType:"asc",sortBy:"title"}),props:["headers","items","pushName","url"],methods:{show(e){this.pushName&&this.$router.push({name:this.pushName,params:{id:e.id}})},async del(e){await p.Z.deleteDish({id:e}),location.reload()}}},u=a(89);const c=(0,u.Z)(l,[["render",d],["__scopeId","data-v-08a928b2"]]);var h=c},1111:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var s=a(3396);function r(e,t,a,r,i,n){const o=(0,s.up)("BaseTitle"),d=(0,s.up)("DataList"),p=(0,s.up)("router-link"),l=(0,s.up)("MainLayout");return(0,s.wg)(),(0,s.j4)(l,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Категории")])),_:1}),(0,s.Wm)(d,{headers:e.headersCategory,items:e.itemsCategory,"push-name":"dishes"},null,8,["headers","items"]),(0,s.Wm)(p,{class:"link",to:{name:"createCategory",params:{id:e.id}}},{default:(0,s.w5)((()=>[(0,s.Uk)("+")])),_:1},8,["to"]),(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Заказы")])),_:1}),(0,s.Wm)(d,{headers:e.headersOrders,items:e.itemsOrders,"push-name":"orgsById"},null,8,["headers","items"]),(0,s.Wm)(p,{class:"link",to:{name:"createCategory",params:{id:e.id}}},{default:(0,s.w5)((()=>[(0,s.Uk)("+")])),_:1},8,["to"])])),_:1})}var i=a(8800),n=a(9438),o=a(4787),d=a(4873),p=a(4027),l=a(1020),u=(0,l.Q_)("dishes",{state:()=>({items:[]}),actions:{}}),c={components:{BaseLink:p.Z,MainLayout:i.Z,DataList:n.Z,BaseTitle:o.Z},data:()=>({headersCategory:[{text:"ID",value:"id"},{text:"Фото",value:"photo"},{text:"Название",value:"title"},{text:"Описание",value:"description"}],headersOrders:[{text:"Доставка",value:"delivery"},{text:"Статус",value:"isCompleted"}],itemsCategory:[],itemsOrders:[],id:null,store:u()}),methods:{async getData(){return await d.Z.getAll()},getId(){this.id=this.$route.params.id}},async mounted(){await this.getData().then((e=>this.itemsCategory=e.data)),this.getId()}},h=a(89);const m=(0,h.Z)(c,[["render",r],["__scopeId","data-v-33de1aa6"]]);var y=m}}]);
//# sourceMappingURL=621.b19709c7.js.map