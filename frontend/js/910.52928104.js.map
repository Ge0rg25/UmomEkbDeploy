{"version":3,"file":"js/910.52928104.js","mappings":"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","sources":["webpack://app/./src/services/DishesService.js","webpack://app/./src/components/DataList.vue","webpack://app/./src/components/DataList.vue?1cc6","webpack://app/./src/pages/DishesPage.vue","webpack://app/./src/pages/DishesPage.vue?e27d"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default new class {\r\n    async getById(data) {\r\n        return await axios.post('https://backend.umom.pro/dishes/get/by/category', JSON.stringify(data), {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n    }\r\n    async getByDishId(data) {\r\n        return await axios.post('https://backend.umom.pro/dishes/get/by/id', JSON.stringify(data), {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n    }\r\n    async getAll() {\r\n        return await axios.get('https://backend.umom.pro/dishes/get/all')\r\n    }\r\n    async createDish(data) {\r\n        return await axios.put('https://backend.umom.pro/dishes/create', JSON.stringify(data), {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n    }\r\n    async deleteDish(data) {\r\n        return await axios.delete(\r\n            'https://backend.umom.pro/dishes/delete',\r\n            {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                data: JSON.stringify(data)\r\n            }\r\n        )\r\n    }\r\n    async editDish(data) {\r\n        return await axios.patch('https://backend.umom.pro/dishes/update', JSON.stringify(data), {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n    }\r\n}","<template>\r\n  <div class=\"list\">\r\n    <DataTable\r\n        class=\"table\"\r\n        :headers=\"headers\"\r\n        :items=\"items\"\r\n        :sort-by=\"sortBy\"\r\n        :sort-type=\"sortType\"\r\n        @click-row=\"show\"\r\n        table-class-name=\"customize-table\"\r\n        alternating\r\n        >\r\n\r\n      <template #item-photo=\"{photo_id}\">\r\n        <div class=\"img__wrapper\">\r\n          <img :src=\"src + photo_id\">\r\n        </div>\r\n      </template>\r\n\r\n      <template #item-del=\"{id}\">\r\n        <router-link :to=\"{name: 'editDish', params: {id: id}}\">\r\n          <button><font-awesome-icon :icon=\"['fas', 'pen-to-square']\"/></button>\r\n        </router-link>\r\n        <button @click=\"del(id)\"><font-awesome-icon :icon=\"['fas', 'trash']\"/></button>\r\n      </template>\r\n    </DataTable>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport DishesService from \"@/services/DishesService\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    src: 'https://backend.umom.pro/photos/download?id=',\r\n    sortType: 'asc',\r\n    sortBy: 'title'\r\n  }),\r\n  props: ['headers', 'items', 'pushName', 'url', 'idless'],\r\n  methods: {\r\n    show(item) {\r\n      if (this.pushName) {\r\n        if (!this.idless) {\r\n          this.$router.push({name: this.pushName, params: {id: item.id}})\r\n        } else {\r\n          this.$router.push({name: this.pushName})\r\n        }\r\n      }\r\n    },\r\n    async del(id) {\r\n      await DishesService.deleteDish({id: id})\r\n      location.reload()\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .list {\r\n    width: 100%;\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    gap: 2rem;\r\n    z-index: 0;\r\n    .table {\r\n      padding: 1rem;\r\n      //border: 1px solid #D3AE78;\r\n      border: none;\r\n    }\r\n    .table {\r\n      width: 100%;\r\n\r\n    }\r\n    .img__wrapper {\r\n      height: 50px;\r\n      width: 50px;\r\n      img {\r\n        object-fit: cover;\r\n        height: 100%;\r\n        width: 100%;\r\n        border-radius: 10px;\r\n      }\r\n    }\r\n    .button {\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>","import { render } from \"./DataList.vue?vue&type=template&id=370ddd9e&scoped=true\"\nimport script from \"./DataList.vue?vue&type=script&lang=js\"\nexport * from \"./DataList.vue?vue&type=script&lang=js\"\n\nimport \"./DataList.vue?vue&type=style&index=0&id=370ddd9e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-370ddd9e\"]])\n\nexport default __exports__","<template>\r\n  <MainLayout>\r\n    <BaseTitle>Блюда</BaseTitle>\r\n    <DataList :headers=\"headers\" :items=\"items\">\r\n\r\n    </DataList>\r\n    <router-link class=\"link\" :to=\"{name: 'createDish', params: {id: id}}\">+</router-link>\r\n\r\n  </MainLayout>\r\n</template>\r\n\r\n<script>\r\n\r\nimport MainLayout from \"@/layouts/MainLayout.vue\";\r\n\r\nimport DataList from \"@/components/DataList.vue\";\r\nimport DishesService from \"@/services/DishesService\";\r\n// TODO: Обрабатывать стастистические данные на слое серивсов\r\nexport default {\r\n  components: {MainLayout, DataList},\r\n  data: () => ({\r\n    years: ['Зима', 'Весна', 'Лето', 'Осень'],\r\n    days: ['Ночь', 'Утро', 'День', 'Вечер'],\r\n    weather: ['Ясно', 'Переменная обласночть', 'Постоянная облачность', 'Дождь', 'Снег'],\r\n    count: 1000,\r\n    id: null,\r\n    headers: [\r\n      {text: 'Фото', value: 'photo'},\r\n      {text: 'Название', value: 'title'},\r\n      {text: 'Описание', value: 'description'},\r\n      {text: 'Цена', value: 'price'},\r\n      {text: 'Калории', value: 'calories'},\r\n      {text: 'Белки', value: 'proteins'},\r\n      {text: 'Жиры', value: 'fats'},\r\n      {text: 'Углеводы', value: 'carbohydrates'},\r\n      {text: 'Время года', value: 'year'},\r\n      {text: 'Время дня', value: 'day'},\r\n      {text: 'Колчичество заказов', value: 'count'},\r\n      {text: 'Погода', value: 'weather'},\r\n      {text: '', value: 'del'}\r\n    ],\r\n    items: []\r\n  }),\r\n  methods: {\r\n    getRandomInt(max) {\r\n      return Math.floor(Math.random() * max);\r\n    },\r\n    async getData() {\r\n      const data = {category_id: this.$route.params.id}\r\n      return await DishesService.getById(data)\r\n      // return await DishesService.getAll()\r\n    },\r\n    pushStats() {\r\n      for (let el of this.items) {\r\n        el.year = this.years[this.getRandomInt(3)]\r\n        el.day = this.days[this.getRandomInt(3)]\r\n        el.weather = this.weather[this.getRandomInt(4)]\r\n        el.count = this.getRandomInt(1000)\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.getData()\r\n        .then(res => {\r\n          this.items = res.data\r\n          console.log(res.data)\r\n        })\r\n        .catch(err => console.log(err))\r\n    this.pushStats()\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.link {\r\n  width: 100%;\r\n  border-radius: 10px;\r\n  background-color: #0E336A;\r\n  color: white;\r\n  padding: 1rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-decoration: none;\r\n}\r\n</style>","import { render } from \"./DishesPage.vue?vue&type=template&id=19ceb818&scoped=true\"\nimport script from \"./DishesPage.vue?vue&type=script&lang=js\"\nexport * from \"./DishesPage.vue?vue&type=script&lang=js\"\n\nimport \"./DishesPage.vue?vue&type=style&index=0&id=19ceb818&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19ceb818\"]])\n\nexport default __exports__"],"names":["getById","data","axios","post","JSON","stringify","headers","getByDishId","getAll","get","createDish","put","deleteDish","delete","editDish","patch","class","_createElementBlock","_hoisted_1","_createVNode","_component_DataTable","$props","items","_ctx","sortBy","sortType","onClickRow","$options","show","alternating","_withCtx","photo_id","_createElementVNode","_hoisted_2","src","id","_component_router_link","to","name","params","_component_font_awesome_icon","icon","onClick","$event","del","props","methods","item","this","pushName","idless","$router","push","DishesService","location","reload","__exports__","render","_createBlock","_component_MainLayout","_component_BaseTitle","_component_DataList","components","MainLayout","DataList","years","days","weather","count","text","value","getRandomInt","max","Math","floor","random","getData","category_id","$route","pushStats","el","year","day","mounted","then","res","console","log","catch","err"],"sourceRoot":""}