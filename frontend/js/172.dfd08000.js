"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[172],{5841:function(t,e,a){var s=a(1076);e.Z=new class{async getAll(){return await s.Z.get("https://backend.umom.pro/organizations/get/all")}async createOrg(t){return await s.Z.put("https://backend.umom.pro/organizations/create",JSON.stringify(t),{headers:{"Content-Type":"application/json"}})}}},6794:function(t,e,a){a.d(e,{Z:function(){return h}});a(560);var s=a(3396),n=a(1120);const r={class:"list"},i={class:"img__wrapper"},o=["src"],u="https://backend.umom.pro/photos/download?id=",l="title",c="asc";var d={__name:"DataList",props:["headers","items","pushName"],setup(t){const e=t,a=t=>{e.pushName&&n.Z.push({name:e.pushName,params:{id:t.id}})};return(e,n)=>{const d=(0,s.up)("DataTable");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(d,{headers:t.headers,items:t.items,"border-cell":"","sort-by":l,"sort-type":c,onClickRow:a},{"item-photo":(0,s.w5)((({photo_id:t})=>[(0,s._)("div",i,[(0,s._)("img",{src:u+t},null,8,o)])])),_:1},8,["headers","items"]),(0,s.WI)(e.$slots,"default")])}}},p=a(89);const m=(0,p.Z)(d,[["__scopeId","data-v-b086c69c"]]);var h=m},5129:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var s=a(3396);function n(t,e,a,n,r,i){const o=(0,s.up)("BaseTitle"),u=(0,s.up)("DataList"),l=(0,s.up)("BaseLink"),c=(0,s.up)("MainLayout");return(0,s.wg)(),(0,s.j4)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Организации")])),_:1}),(0,s.Wm)(u,{headers:t.headers,items:t.items,"push-name":"orgsById"},null,8,["headers","items"]),(0,s.Wm)(l,{class:"link",link:{name:"createOrg"}},{default:(0,s.w5)((()=>[(0,s.Uk)("+")])),_:1})])),_:1})}var r=a(8800),i=a(4787),o=a(6794),u=a(1020),l=a(5841),c=(0,u.Q_)("orgs",{state:()=>({orgs:[]}),actions:{async getAll(){return await l.Z.getAll()}}}),d=a(4027),p={components:{BaseLink:d.Z,MainLayout:r.Z,BaseTitle:i.Z,DataList:o.Z},data:()=>({store:c(),headers:[{text:"ID",value:"id"},{text:"Фото",value:"photo"},{text:"Наименование",value:"title",sortable:!0},{text:"Описание",value:"description"},{text:"Адрес",value:"address"}],items:[]}),methods:{async getData(){return await this.store.getAll()}},async mounted(){await this.getData().then((t=>this.items=t.data))}},m=a(89);const h=(0,m.Z)(p,[["render",n],["__scopeId","data-v-2c210dee"]]);var g=h}}]);
//# sourceMappingURL=172.dfd08000.js.map